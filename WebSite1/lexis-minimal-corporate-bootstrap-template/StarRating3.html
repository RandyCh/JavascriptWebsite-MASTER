<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <div id="rating">
                <img src="images/star.gif" class="star" id="1"/>
                <img src="images/star.gif" class="star" id="2"/>
                <img src="images/star.gif" class="star" id="3"/>
                <img src="images/star.gif" class="star" id="4"/>
                <img src="images/star.gif" class="star" id="5"/>
    </div><span id="rate"></span>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            //document.getElementById("star1").addEventListener("click", rateTheStar1);  //事件繫結，滑鼠滑入
            var imgs = document.querySelectorAll("img.star");//標籤.class
            var imgsLen = imgs.length;
            for (var i = 0; i < imgsLen; i++) {
                imgs[i].addEventListener("mouseover", mouseOver);
                imgs[i].addEventListener("mouseout", mouseOut);
                imgs[i].addEventListener("click", Click);}
            });
        function mouseOver() {
            var targetid = event.currentTarget.id;
            for (i = 1; i <= targetid; i++) {
                document.getElementById(i).src = "images/chngstar.gif";
            }
            
        }
        function mouseOut() {
            var targetid = event.currentTarget.id;
            for (i = 1; i <= targetid; i++) {
                document.getElementById(i).src = "images/star.gif";
            }
        }
        function Click() {
            var imgs = document.querySelectorAll("img.star");//標籤.class
            var imgsLen = imgs.length;
            for (var i = 0; i < imgsLen; i++) {
                imgs[i].removeEventListener("mouseout", mouseOut);
                imgs[i].removeEventListener("mouseover", mouseOver);
            }
            document.getElementById("rate").innerHTML = event.currentTarget.id+"颗星";
        }
    </script>
</body>
</html>
